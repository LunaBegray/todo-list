(()=>{console.log("web is working");let e=[];class t{constructor(e,t,n,o,l){this.name=e,this.author=t,this.pages=n,this.read=o,this.color=l}}const n=document.querySelector(".container");function o(t){e.push(t)}function l(){for(let t=0;t<e.length;t++){let o=document.createElement("div");o.classList.add("card"),o.textContent=e[t].name+" "+e[t].author,o.id=e[t];let l=document.createElement("button");l.textContent="Remove Task",l.addEventListener("click",(function(){o.remove(),e.splice(e[t],1)}));let a=document.createElement("button");a.textContent="Mark As Done",a.addEventListener("click",(function(){console.log("button lunched"),"red"==o.style.backgroundColor?(o.style.backgroundColor="lightyellow",console.log("first if statement lunched")):(o.style.backgroundColor="red",console.log("second if statement lunched"))}));let c=document.createElement("button");c.textContent="Expend Task",c.addEventListener("click",(function(){o.textContent=e[t].name+" "+e[t].author+" "+e[t].pages+" "+e[t].read,o.appendChild(c),o.appendChild(d),o.appendChild(a),o.appendChild(l)}));let d=document.createElement("button");d.textContent="DeExpend Task",d.addEventListener("click",(function(){o.textContent=e[t].name+" "+e[t].author,o.appendChild(c),o.appendChild(d),o.appendChild(a),o.appendChild(l)})),o.appendChild(c),o.appendChild(d),o.appendChild(a),o.appendChild(l),n.appendChild(o)}}document.querySelector(".addBtn").addEventListener("click",(function(){console.log("add button clicked");let e=document.createElement("div");e.classList.add("form");let a=document.createElement("input"),c=document.createElement("input"),d=document.createElement("input"),r=document.createElement("input");e.appendChild(a),e.appendChild(c),e.appendChild(d),e.appendChild(r);let u=document.createElement("button");u.textContent="continue",u.addEventListener("click",(function(){let u=a.value,i=c.value,s=d.value,m=r.value;o(new t(u,i,s,m,"lightyellow")),n.textContent="",l(),e.remove()})),e.appendChild(u),n.appendChild(e)})),function(e){var t;try{t=window.localStorage;var n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}()?(console.log("storage confirmed"),localStorage.getItem("name0")||function(){for(let t=0;t<e.length;t++)localStorage.setItem("name"+t,e[t].name.value),localStorage.setItem("author"+t,e[t].author.value),localStorage.setItem("pages"+t,e[t].pages.value),localStorage.setItem("read"+t,e[t].read.value),console.log(myLbrary[t].color.value+"  :color value"),localStorage.setItem("color"+t,e[t].color.value)}(),function(){for(let i=0;i<e.length;i++){var a=localStorage.getItem("name"+i),c=localStorage.getItem("author"+i),d=localStorage.getItem("pages"+i),r=localStorage.getItem("read"+i),u=localStorage.getItem("color"+i);e[i].name.value=a,e[i].author.value=c,e[i].pages.value=d,myLbrary[i].read.value=r,e[i].color.value=u,o(new t(a,c,d,r,u)),n.textContent="",l()}}()):console.log("storage declined")})();