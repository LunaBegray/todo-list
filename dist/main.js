(()=>{console.log("web is working");const e=document.querySelector(".container");let t=[];if(null!==localStorage.getItem("name0")){let e=new Array;for(let t in window.localStorage)e.push(localStorage[t]);console.log(e);let l=(e.length-6)/5;console.log(l);for(let e=0;e<l;e++){console.log("if statement lunched");let o=new n(localStorage.getItem("name"+e),localStorage.getItem("author"+e),localStorage.getItem("pages"+e),localStorage.getItem("read"+e),localStorage.getItem("color"+e));t.push(o),console.log(t)}o()}function n(e,t,n,o,l){this.name=e,this.author=t,this.pages=n,this.read=o,this.color=l}function o(){for(let n=0;n<t.length;n++){let o=document.createElement("div");o.classList.add("card"),o.textContent=t[n].name+" "+t[n].author,o.id=t[n];let a=document.createElement("button");a.textContent="Remove Task",a.addEventListener("click",(function(){o.remove(),t.splice(t[n],1)}));let d=document.createElement("button");d.textContent="Mark As Done",d.addEventListener("click",(function(){console.log("switch button lunched"),"lightyellow"==t[n].color?(o.style.backgroundColor="red",t[n].color="red",l(),console.log("first if statement lunched")):"red"==t[n].color&&(o.style.backgroundColor="lightyellow",t[n].color="lightyellow",l(),console.log("second if statement lunched"))}));let c=document.createElement("button");c.textContent="Expend Task",c.addEventListener("click",(function(){o.textContent=t[n].name+" "+t[n].author+" "+t[n].pages+" "+t[n].read,o.appendChild(c),o.appendChild(r),o.appendChild(d),o.appendChild(a)}));let r=document.createElement("button");r.textContent="DeExpend Task",r.addEventListener("click",(function(){o.textContent=t[n].name+" "+t[n].author,o.appendChild(c),o.appendChild(r),o.appendChild(d),o.appendChild(a)})),o.appendChild(c),o.appendChild(r),o.appendChild(d),o.appendChild(a),e.appendChild(o)}}function l(){for(let e=0;e<t.length;e++)localStorage.setItem("name"+e,t[e].name),localStorage.setItem("author"+e,t[e].author),localStorage.setItem("pages"+e,t[e].pages),localStorage.setItem("read"+e,t[e].read),localStorage.setItem("color"+e,t[e].color),console.log(t[e].name+" "+t[e].author+" "+t[e].pages+" "+t[e].read+"   :this is inside the populateStorage")}document.querySelector(".addBtn").addEventListener("click",(function(){console.log("add button clicked");let a=document.createElement("div");a.classList.add("form");let d=document.createElement("input"),c=document.createElement("input"),r=document.createElement("input"),i=document.createElement("input");a.appendChild(d),a.appendChild(c),a.appendChild(r),a.appendChild(i);let s=document.createElement("button");s.textContent="continue",s.addEventListener("click",(function(){var s;s=new n(d.value,c.value,r.value,i.value,"lightyellow"),t.push(s),l(),e.textContent="",o(),a.remove()})),a.appendChild(s),e.appendChild(a)}))})();