(()=>{console.log("web is working");let e=[];class t{constructor(e,t,n,o,l){this.name=e,this.author=t,this.pages=n,this.read=o,this.color=l}}const n=document.querySelector(".container");function o(t){e.push(t)}function l(){for(let t=0;t<e.length;t++){let o=document.createElement("div");o.classList.add("card"),o.textContent=e[t].name+" "+e[t].author,o.id=e[t];let l=document.createElement("button");l.textContent="Remove Task",l.addEventListener("click",(function(){o.remove(),e.splice(e[t],1)}));let a=document.createElement("button");a.textContent="Mark As Done",a.addEventListener("click",(function(){console.log("button lunched"),"red"==o.style.backgroundColor?(o.style.backgroundColor="lightyellow",console.log("first if statement lunched")):(o.style.backgroundColor="red",console.log("second if statement lunched"))}));let c=document.createElement("button");c.textContent="Expend Task",c.addEventListener("click",(function(){o.textContent=e[t].name+" "+e[t].author+" "+e[t].pages+" "+e[t].read,o.appendChild(c),o.appendChild(d),o.appendChild(a),o.appendChild(l)}));let d=document.createElement("button");d.textContent="DeExpend Task",d.addEventListener("click",(function(){o.textContent=e[t].name+" "+e[t].author,o.appendChild(c),o.appendChild(d),o.appendChild(a),o.appendChild(l)})),o.appendChild(c),o.appendChild(d),o.appendChild(a),o.appendChild(l),n.appendChild(o)}}document.querySelector(".addBtn").addEventListener("click",(function(){console.log("add button clicked");let a=document.createElement("div");a.classList.add("form");let c=document.createElement("input"),d=document.createElement("input"),r=document.createElement("input"),i=document.createElement("input");a.appendChild(c),a.appendChild(d),a.appendChild(r),a.appendChild(i);let u=document.createElement("button");u.textContent="continue",u.addEventListener("click",(function(){let u=c.value,s=d.value,m=r.value,p=i.value;o(new t(u,s,m,p,"lightyellow")),n.textContent="",function(){if(function(e){var t;try{t=window.localStorage;var n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}()){console.log("storage confirmed"),function(){for(let t=0;t<e.length;t++)localStorage.setItem("name"+t,e[t].name.value),localStorage.setItem("author"+t,e[t].author.value),localStorage.setItem("pages"+t,e[t].pages.value),localStorage.setItem("read"+t,e[t].read.value),localStorage.setItem("color"+t,e[t].color.value)}(),function(){for(let u=0;u<e.length;u++){var a=localStorage.getItem("name"+u),c=localStorage.getItem("author"+u),d=localStorage.getItem("pages"+u),r=localStorage.getItem("read"+u),i=localStorage.getItem("color"+u);e[u].name.value=a,e[u].author.value=c,e[u].pages.value=d,e[u].read.value=r,e[u].color.value=i,o(new t(a,c,d,r,i)),n.textContent="",l()}}()}else console.log("storage declined")}(),a.remove()})),a.appendChild(u),n.appendChild(a)}))})();